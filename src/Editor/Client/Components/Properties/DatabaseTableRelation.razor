@using Medulla.Editor.Client.Components.Properties.Types
@using Medulla.Editor.Client.Components.BlazorDiagramBase
@using Medulla.WorkflowDesigner.Client.Library.Services
@using DatabaseTable = Medulla.Editor.Client.Components.Properties.Types.DatabaseTable
@using UtilDropdownList = Utilities.Utilities;


<div class="flex">
    <div>
        Table Name
    </div>
    <div>
        @*(name, description) => ChangedType(_column.Id, name!, description!*@
        <PropertiesDropdown Changed="" Title="Type" DropdownItems="_relationTypeDropdownItems"/>
    </div>
    <div style="border: thin solid gray;">
        @*(name, description) => ChangedType(_column.Id, name!, description!)*@
        <PropertiesDropdown Changed="" Title="Tables" DropdownItems="_tablesDropdownItems"/>
    </div>
</div>

@code {

    private List<DropdownItem> _relationTypeDropdownItems;
    private List<DropdownItem> _tablesDropdownItems;

    public DatabaseTableRelation()
    {

        _relationTypeDropdownItems = UtilDropdownList.CreateListOfDropdownItems(
            "HasOne", "HasMany", "BelongsToMany", "BelongsToOne"
            );

        var tables = DatabaseService.GetListOfDatabaseTables(true);

        _tablesDropdownItems =
            UtilDropdownList.CreateListOfDropdownItems(tables.ToArray());

    }

    protected override void OnInitialized()
    {

    }



}
